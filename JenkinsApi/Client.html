<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: JenkinsApi::Client

    &mdash; Documentation by YARD 0.8.6.2

</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">

    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../JenkinsApi.html" title="JenkinsApi (module)">JenkinsApi</a></span></span>
     &raquo;
    <span class="title">Client</span>


  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">

    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>

    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>

    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>

</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: JenkinsApi::Client



</h1>

<dl class="box">

    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>

        <ul class="fullTree">
          <li>Object</li>

            <li class="next">JenkinsApi::Client</li>

        </ul>
        <a href="#" class="inheritanceTree">show all</a>

      </dd>









    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/jenkins_api_client/client.rb<span class="defines">,<br />
  lib/jenkins_api_client/job.rb,<br /> lib/jenkins_api_client/node.rb,<br /> lib/jenkins_api_client/view.rb,<br /> lib/jenkins_api_client/system.rb,<br /> lib/jenkins_api_client/version.rb,<br /> lib/jenkins_api_client/build_queue.rb</span>
</dd>

</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">

<p>This is the client class that acts as the bridge between the subclasses and
Jnekins. This class contains methods that performs GET and POST requests
for various operations.</p>


  </div>
</div>
<div class="tags">


</div><h2>Defined Under Namespace</h2>
<p class="children">




      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Client/BuildQueue.html" title="JenkinsApi::Client::BuildQueue (class)">BuildQueue</a></span>, <span class='object_link'><a href="Client/Job.html" title="JenkinsApi::Client::Job (class)">Job</a></span>, <span class='object_link'><a href="Client/Node.html" title="JenkinsApi::Client::Node (class)">Node</a></span>, <span class='object_link'><a href="Client/System.html" title="JenkinsApi::Client::System (class)">System</a></span>, <span class='object_link'><a href="Client/View.html" title="JenkinsApi::Client::View (class)">View</a></span>


</p>

  <h2>Constant Summary</h2>

    <dl class="constants">

        <dt id="DEFAULT_SERVER_PORT-constant" class="">DEFAULT_SERVER_PORT =
          <div class="docstring">
  <div class="discussion">

<p>Default port to be used to connect to Jenkins</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='int'>8080</span></pre></dd>

        <dt id="DEFAULT_TIMEOUT-constant" class="">DEFAULT_TIMEOUT =
          <div class="docstring">
  <div class="discussion">

<p>Default timeout in seconds to be used while performing operations</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='int'>120</span></pre></dd>

        <dt id="VALID_PARAMS-constant" class="">VALID_PARAMS =
          <div class="docstring">
  <div class="discussion">

<p>Parameters that are permitted as options while initializing the client</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>server_url</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>server_ip</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>server_port</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>proxy_ip</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>proxy_port</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>jenkins_path</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>username</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>password</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>password_base64</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log_location</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>log_level</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>timeout</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ssl</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>follow_redirects</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>identity_file</span><span class='tstring_end'>&quot;</span></span>
<span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>

        <dt id="MAJOR-constant" class="">MAJOR =
          <div class="docstring">
  <div class="discussion">

<p>Major version of the gem</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='int'>0</span></pre></dd>

        <dt id="MINOR-constant" class="">MINOR =
          <div class="docstring">
  <div class="discussion">

<p>Minor version of the gem</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='int'>13</span></pre></dd>

        <dt id="TINY-constant" class="">TINY =
          <div class="docstring">
  <div class="discussion">

<p>Tiny version of the gem used for patches</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='int'>0</span></pre></dd>

        <dt id="PRE-constant" class="">PRE =
          <div class="docstring">
  <div class="discussion">

<p>Used for pre-releases</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='kw'>nil</span></pre></dd>

        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">

<p>Version String of Jenkins API Client.</p>


  </div>
</div>
<div class="tags">


</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='const'>MAJOR</span><span class='comma'>,</span> <span class='const'>MINOR</span><span class='comma'>,</span> <span class='const'>TINY</span><span class='comma'>,</span> <span class='const'>PRE</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span></pre></dd>

    </dl>





  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">

      <li class="public ">
  <span class="summary_signature">

      <a href="#logger-instance_method" title="#logger (instance method)">- (Object) <strong>logger</strong> </a>



  </span>












    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute logger.</p>
</div></span>

</li>


      <li class="public ">
  <span class="summary_signature">

      <a href="#timeout-instance_method" title="#timeout (instance method)">- (Object) <strong>timeout</strong> </a>



  </span>












    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute timeout.</p>
</div></span>

</li>


  </ul>





    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">

        <li class="public ">
  <span class="summary_signature">

      <a href="#api_get_request-instance_method" title="#api_get_request (instance method)">- (String, JSON) <strong>api_get_request</strong>(url_prefix, tree = nil, url_suffix = &quot;/api/json&quot;, raw_response = false) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Sends a GET request to the Jenkins CI server with the specified URL.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#api_post_request-instance_method" title="#api_post_request (instance method)">- (String) <strong>api_post_request</strong>(url_prefix, form_data = {}, raw_response = false) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Sends a POST message to the Jenkins CI server with the specified URL.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#exec_cli-instance_method" title="#exec_cli (instance method)">- (String) <strong>exec_cli</strong>(command, args = []) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Execute the Jenkins CLI.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#get_config-instance_method" title="#get_config (instance method)">- (String) <strong>get_config</strong>(url_prefix) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Obtains the configuration of a component from the Jenkins CI server.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#get_hudson_version-instance_method" title="#get_hudson_version (instance method)">- (String) <strong>get_hudson_version</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Obtain the Hudson version of the CI server.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#get_jenkins_version-instance_method" title="#get_jenkins_version (instance method)">- (Object) <strong>get_jenkins_version</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Obtains the jenkins version from the API.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#get_root-instance_method" title="#get_root (instance method)">- (Net::HTTP::Response) <strong>get_root</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Obtains the root of Jenkins server.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#get_server_date-instance_method" title="#get_server_date (instance method)">- (String) <strong>get_server_date</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Obtain the date of the Jenkins server.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#initialize-instance_method" title="#initialize (instance method)">- (JenkinsApi::Client) <strong>initialize</strong>(args) </a>



  </span>


    <span class="note title constructor">constructor</span>








    <span class="summary_desc"><div class='inline'>
<p>Initialize a Client object with Jenkins CI server credentials.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Overrides the inspect method to get rid of the credentials being shown in
the in interactive IRB sessions and also when the `inspect` method is
called.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#job-instance_method" title="#job (instance method)">- (JenkinsApi::Client::Job) <strong>job</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the Job class by passing a reference to self.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#node-instance_method" title="#node (instance method)">- (JenkinsApi::Client::Node) <strong>node</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the Node class by passing a reference to self.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#post_config-instance_method" title="#post_config (instance method)">- (String) <strong>post_config</strong>(url_prefix, xml) </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Posts the given xml configuration to the url given.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#queue-instance_method" title="#queue (instance method)">- (JenkinsApi::Client::BuildQueue) <strong>queue</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the BuildQueue by passing a reference to self.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#system-instance_method" title="#system (instance method)">- (JenkinsApi::Client::System) <strong>system</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the System class by passing a reference to self.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#to_s-instance_method" title="#to_s (instance method)">- (String) <strong>to_s</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Returns a string representing the class name.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#use_crumbs%3F-instance_method" title="#use_crumbs? (instance method)">- (Boolean) <strong>use_crumbs?</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Checks if Jenkins uses crumbs (i.e) the XSS disable option is checked in
Jenkins' security settings.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#use_security%3F-instance_method" title="#use_security? (instance method)">- (Boolean) <strong>use_security?</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Checks if Jenkins uses security.</p>
</div></span>

</li>


        <li class="public ">
  <span class="summary_signature">

      <a href="#view-instance_method" title="#view (instance method)">- (JenkinsApi::Client::View) <strong>view</strong> </a>



  </span>









    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the View class by passing a reference to self.</p>
</div></span>

</li>


    </ul>


<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>

    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">

    - (<tt><span class='object_link'><a href="" title="JenkinsApi::Client (class)">JenkinsApi::Client</a></span></tt>) <strong>initialize</strong>(args)





</h3><div class="docstring">
  <div class="discussion">

<p>Initialize a Client object with Jenkins CI server credentials</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>args</span>


        <span class='type'>(<tt>Hash</tt>)</span>



        &mdash;
        <div class='inline'>
<p>Arguments to connect to Jenkins server</p>
</div>

    </li>

</ul>




    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">

        <li>
          <span class="name">:server_ip</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the IP address of the Jenkins CI server</p>
</div>

        </li>

        <li>
          <span class="name">:server_port</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the port on which the Jenkins listens</p>
</div>

        </li>

        <li>
          <span class="name">:server_url</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the full URL address of the Jenkins CI server (http/https)</p>
</div>

        </li>

        <li>
          <span class="name">:username</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the username used for connecting to the server (optional)</p>
</div>

        </li>

        <li>
          <span class="name">:password</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the password for connecting to the CI server (optional)</p>
</div>

        </li>

        <li>
          <span class="name">:password_base64</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the password with base64 encoded format for connecting to the CI server
(optional)</p>
</div>

        </li>

        <li>
          <span class="name">:identity_file</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the priviate key file for Jenkins CLI authentication, it is used only for
executing CLI commands. also remember to upload the public key to <a
href="http://#server_ip:#server_port/user/#my_username/configure">#server_ip:#server_port/user/#my_username/configure</a></p>
</div>

        </li>

        <li>
          <span class="name">:proxy_ip</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the proxy IP address</p>
</div>

        </li>

        <li>
          <span class="name">:proxy_port</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the proxy port</p>
</div>

        </li>

        <li>
          <span class="name">:jenkins_path</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>the optional context path for Jenkins</p>
</div>

        </li>

        <li>
          <span class="name">:ssl</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>indicates if Jenkins is accessible over HTTPS (defaults to false)</p>
</div>

        </li>

        <li>
          <span class="name">:follow_redirects</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>This argument causes the client to follow a redirect (jenkins can return a
30x when starting a build)</p>
</div>

        </li>

        <li>
          <span class="name">:timeout</span>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>This argument sets the timeout for the jenkins system to become ready</p>
</div>

        </li>

        <li>
          <span class="name">:log_location</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>The location for the log file (Defaults to STDOUT)</p>
</div>

        </li>

        <li>
          <span class="name">:log_level</span>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="default">

          </span>

            &mdash; <div class='inline'>
<p>The level for messages to be logged. Should be one of: Logger::DEBUG (0),
Logger::INFO (1), Logger::WARN (2), Logger::ERROR (2), Logger::FATAL (3)
(Defaults to Logger::INFO)</p>
</div>

        </li>

    </ul>


<p class="tag_title">Raises:</p>
<ul class="raise">

    <li>


        <span class='type'>(<tt>ArgumentError</tt>)</span>



        &mdash;
        <div class='inline'>
<p>when required options are not provided.</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 111</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>&amp;&amp;</span> <span class='const'>VALID_PARAMS</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span> <span class='kw'>if</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Hash</span>

  <span class='comment'># Server IP or Server URL must be specifiec
</span>  <span class='kw'>unless</span> <span class='ivar'>@server_ip</span> <span class='op'>||</span> <span class='ivar'>@server_url</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Server IP or Server URL is required to connect</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> to Jenkins</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Username/password are optional as some jenkins servers do not require
</span>  <span class='comment'># authentication
</span>  <span class='kw'>if</span> <span class='ivar'>@username</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='lparen'>(</span><span class='ivar'>@password</span> <span class='op'>||</span> <span class='ivar'>@password_base64</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>If username is provided, password is required</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@proxy_ip</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>^</span> <span class='ivar'>@proxy_port</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Proxy IP and port must both be specified or</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> both left nil</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='comment'># Get info from the server_url, if we got one
</span>  <span class='kw'>if</span> <span class='ivar'>@server_url</span>
    <span class='id identifier rubyid_server_uri'>server_uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='ivar'>@server_url</span><span class='rparen'>)</span>
    <span class='ivar'>@server_ip</span> <span class='op'>=</span> <span class='id identifier rubyid_server_uri'>server_uri</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>
    <span class='ivar'>@server_port</span> <span class='op'>=</span> <span class='id identifier rubyid_server_uri'>server_uri</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span>
    <span class='ivar'>@ssl</span> <span class='op'>=</span> <span class='id identifier rubyid_server_uri'>server_uri</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@jenkins_path</span> <span class='op'>=</span> <span class='id identifier rubyid_server_uri'>server_uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
  <span class='kw'>end</span>

  <span class='ivar'>@jenkins_path</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@jenkins_path</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\/$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># remove trailing slash if there is one
</span>  <span class='ivar'>@server_port</span> <span class='op'>=</span> <span class='const'>DEFAULT_SERVER_PORT</span> <span class='kw'>unless</span> <span class='ivar'>@server_port</span>
  <span class='ivar'>@timeout</span> <span class='op'>=</span> <span class='const'>DEFAULT_TIMEOUT</span> <span class='kw'>unless</span> <span class='ivar'>@timeout</span>
  <span class='ivar'>@ssl</span> <span class='op'>||=</span> <span class='kw'>false</span>

  <span class='comment'># Setting log options
</span>  <span class='ivar'>@log_location</span> <span class='op'>=</span> <span class='const'>STDOUT</span> <span class='kw'>unless</span> <span class='ivar'>@log_location</span>
  <span class='ivar'>@log_level</span> <span class='op'>=</span> <span class='const'>Logger</span><span class='op'>::</span><span class='const'>INFO</span> <span class='kw'>unless</span> <span class='ivar'>@log_level</span>
  <span class='ivar'>@logger</span> <span class='op'>=</span> <span class='const'>Logger</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='ivar'>@log_location</span><span class='rparen'>)</span>
  <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='ivar'>@log_level</span>


  <span class='comment'># Base64 decode inserts a newline character at the end. As a workaround
</span>  <span class='comment'># added chomp to remove newline characters. I hope nobody uses newline
</span>  <span class='comment'># characters at the end of their passwords :)
</span>  <span class='ivar'>@password</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_decode64'>decode64</span><span class='lparen'>(</span><span class='ivar'>@password_base64</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='kw'>if</span> <span class='ivar'>@password_base64</span>

  <span class='comment'># No connections are made to the Jenkins server during initialize to
</span>  <span class='comment'># allow the unit tests to behave normally as mocking is simpler this way.
</span>  <span class='comment'># If this variable is nil, the first POST request will query the API and
</span>  <span class='comment'># populate this variable.
</span>  <span class='ivar'>@crumbs_enabled</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='comment'># The crumbs hash. Store it so that we don't have to obtain the crumb for
</span>  <span class='comment'># every POST request. It appears that the crumb doesn't change often.
</span>  <span class='ivar'>@crumb</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='comment'># This is the number of times to refetch the crumb if it ever expires.
</span>  <span class='ivar'>@crumb_max_retries</span> <span class='op'>=</span> <span class='int'>3</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>


      <span id="logger=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="logger-instance_method">

    - (<tt>Object</tt>) <strong>logger</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Returns the value of attribute logger</p>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_logger'>logger</span>
  <span class='ivar'>@logger</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>


      <span id="timeout=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="timeout-instance_method">

    - (<tt>Object</tt>) <strong>timeout</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Returns the value of attribute timeout</p>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_timeout'>timeout</span>
  <span class='ivar'>@timeout</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>


      <div class="method_details first">
  <h3 class="signature first" id="api_get_request-instance_method">

    - (<tt>String</tt>, <tt>JSON</tt>) <strong>api_get_request</strong>(url_prefix, tree = nil, url_suffix = &quot;/api/json&quot;, raw_response = false)





</h3><div class="docstring">
  <div class="discussion">

<p>Sends a GET request to the Jenkins CI server with the specified URL</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>url_prefix</span>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>The prefix to use in the URL</p>
</div>

    </li>

    <li>

        <span class='name'>tree</span>


        <span class='type'>(<tt>String</tt>)</span>


        <em class="default">(defaults to: <tt>nil</tt>)</em>


        &mdash;
        <div class='inline'>
<p>A specific JSON tree to optimize the API call</p>
</div>

    </li>

    <li>

        <span class='name'>url_suffix</span>


        <span class='type'>(<tt>String</tt>)</span>


        <em class="default">(defaults to: <tt>&quot;/api/json&quot;</tt>)</em>


        &mdash;
        <div class='inline'>
<p>The suffix to be used in the URL</p>
</div>

    </li>

    <li>

        <span class='name'>raw_response</span>


        <span class='type'>(<tt>Boolean</tt>)</span>


        <em class="default">(defaults to: <tt>false</tt>)</em>


        &mdash;
        <div class='inline'>
<p>Return complete Response object instead of JSON body of response</p>
</div>

    </li>

</ul>

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>, <tt>JSON</tt>)</span>



        &mdash;
        <div class='inline'>
<p>JSON response from Jenkins</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 296</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_get_request'>api_get_request</span><span class='lparen'>(</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_tree'>tree</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_url_suffix'>url_suffix</span> <span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/api/json</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                    <span class='id identifier rubyid_raw_response'>raw_response</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_url_prefix'>url_prefix</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@jenkins_path</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_to_get'>to_get</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tree'>tree</span>
    <span class='id identifier rubyid_to_get'>to_get</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_suffix'>url_suffix</span><span class='rbrace'>}</span><span class='tstring_content'>?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tree'>tree</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_to_get'>to_get</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_suffix'>url_suffix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_to_get'>to_get</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='id identifier rubyid_to_get'>to_get</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Get</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_to_get'>to_get</span><span class='rparen'>)</span>
  <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_to_get'>to_get</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_make_http_request'>make_http_request</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_raw_response'>raw_response</span>
    <span class='id identifier rubyid_handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>raw</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>body</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_url_suffix'>url_suffix</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>json</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="api_post_request-instance_method">

    - (<tt>String</tt>) <strong>api_post_request</strong>(url_prefix, form_data = {}, raw_response = false)





</h3><div class="docstring">
  <div class="discussion">

<p>Sends a POST message to the Jenkins CI server with the specified URL</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>url_prefix</span>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>The prefix to be used in the URL</p>
</div>

    </li>

    <li>

        <span class='name'>form_data</span>


        <span class='type'>(<tt>Hash</tt>)</span>


        <em class="default">(defaults to: <tt>{}</tt>)</em>


        &mdash;
        <div class='inline'>
<p>Form data to send with POST request</p>
</div>

    </li>

</ul>

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>Response code form Jenkins Response</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_api_post_request'>api_post_request</span><span class='lparen'>(</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_form_data'>form_data</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_raw_response'>raw_response</span> <span class='op'>=</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_retries'>retries</span> <span class='op'>=</span> <span class='ivar'>@crumb_max_retries</span>
  <span class='kw'>begin</span>
    <span class='comment'># Identify whether to use crumbs if this is the first POST request.
</span>    <span class='ivar'>@crumbs_enabled</span> <span class='op'>=</span> <span class='id identifier rubyid_use_crumbs?'>use_crumbs?</span> <span class='kw'>if</span> <span class='ivar'>@crumbs_enabled</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='ivar'>@crumb</span> <span class='op'>=</span> <span class='id identifier rubyid_get_crumb'>get_crumb</span> <span class='kw'>if</span> <span class='ivar'>@crumbs_enabled</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@crumb</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='comment'># Added form_data default {} instead of nil to help with proxies
</span>    <span class='comment'># that barf with empty post
</span>    <span class='id identifier rubyid_url_prefix'>url_prefix</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@jenkins_path</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/json</span><span class='tstring_end'>'</span></span>
    <span class='kw'>if</span> <span class='ivar'>@crumbs_enabled</span>
      <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='ivar'>@crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>crumbRequestField</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>crumb</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_set_form_data'>set_form_data</span><span class='lparen'>(</span><span class='id identifier rubyid_form_data'>form_data</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_make_http_request'>make_http_request</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_raw_response'>raw_response</span>
      <span class='id identifier rubyid_handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>raw</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>Exceptions</span><span class='op'>::</span><span class='const'>ForbiddenException</span>
    <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Crumb expired. Refetching from the server. Trying</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@crumb_max_retries</span> <span class='op'>-</span> <span class='id identifier rubyid_retries'>retries</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='tstring_content'> out of </span><span class='embexpr_beg'>#{</span><span class='ivar'>@crumb_max_retries</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> times...</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@crumb</span> <span class='op'>=</span> <span class='id identifier rubyid_get_crumb'>get_crumb</span>
    <span class='id identifier rubyid_retries'>retries</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_retries'>retries</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='kw'>retry</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="exec_cli-instance_method">

    - (<tt>String</tt>) <strong>exec_cli</strong>(command, args = [])





</h3><div class="docstring">
  <div class="discussion">

<p>Execute the Jenkins CLI</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>command</span>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>command name</p>
</div>

    </li>

    <li>

        <span class='name'>args</span>


        <span class='type'>(<tt>Array</tt>)</span>


        <em class="default">(defaults to: <tt>[]</tt>)</em>


        &mdash;
        <div class='inline'>
<p>the arguments for the command</p>
</div>

    </li>

</ul>

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>command output from the CLI</p>
</div>

    </li>

</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="Exceptions.html#CLIException-constant" title="JenkinsApi::Exceptions::CLIException (constant)">Exceptions::CLIException</a></span></tt>)</span>



        &mdash;
        <div class='inline'>
<p>if there are issues in running the commands using CLI</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 460</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exec_cli'>exec_cli</span><span class='lparen'>(</span><span class='id identifier rubyid_command'>command</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base_dir'>base_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_server_url'>server_url</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://</span><span class='embexpr_beg'>#{</span><span class='ivar'>@server_ip</span><span class='rbrace'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@server_port</span><span class='rbrace'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='ivar'>@jenkins_path</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>java -jar </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_base_dir'>base_dir</span><span class='rbrace'>}</span><span class='tstring_content'>/../../java_deps/jenkins-cli.jar -s </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_server_url'>server_url</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> -i </span><span class='embexpr_beg'>#{</span><span class='ivar'>@identity_file</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@identity_file</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@identity_file</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_command'>command</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> --username </span><span class='embexpr_beg'>#{</span><span class='ivar'>@username</span><span class='rbrace'>}</span><span class='tstring_content'> --password </span><span class='embexpr_beg'>#{</span><span class='ivar'>@password</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@identity_file</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='ivar'>@identity_file</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> </span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_java_cmd'>java_cmd</span> <span class='op'>=</span> <span class='const'>Mixlib</span><span class='op'>::</span><span class='const'>ShellOut</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>

  <span class='comment'># Run the command
</span>  <span class='id identifier rubyid_java_cmd'>java_cmd</span><span class='period'>.</span><span class='id identifier rubyid_run_command'>run_command</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_java_cmd'>java_cmd</span><span class='period'>.</span><span class='id identifier rubyid_stderr'>stderr</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_java_cmd'>java_cmd</span><span class='period'>.</span><span class='id identifier rubyid_stdout'>stdout</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
  <span class='kw'>else</span>
    <span class='comment'># The stderr has a stack trace of the Java program. We'll already have
</span>    <span class='comment'># a stack trace for Ruby. So just display a descriptive message for the
</span>    <span class='comment'># error thrown by the CLI.
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Exceptions</span><span class='op'>::</span><span class='const'>CLIException</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
      <span class='ivar'>@logger</span><span class='comma'>,</span>
      <span class='id identifier rubyid_java_cmd'>java_cmd</span><span class='period'>.</span><span class='id identifier rubyid_stderr'>stderr</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="get_config-instance_method">

    - (<tt>String</tt>) <strong>get_config</strong>(url_prefix)





</h3><div class="docstring">
  <div class="discussion">

<p>Obtains the configuration of a component from the Jenkins CI server</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>url_prefix</span>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>The prefix to be used in the URL</p>
</div>

    </li>

</ul>

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>XML configuration obtained from Jenkins</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


362
363
364
365
366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 362</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_config'>get_config</span><span class='lparen'>(</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_url_prefix'>url_prefix</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@jenkins_path</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Get</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_content'>/config.xml</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_content'>/config.xml</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_make_http_request'>make_http_request</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>body</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="get_hudson_version-instance_method">

    - (<tt>String</tt>) <strong>get_hudson_version</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Obtain the Hudson version of the CI server</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>Version of Hudson on Jenkins server</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


436
437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 436</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_hudson_version'>get_hudson_version</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_get_root'>get_root</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-Hudson</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="get_jenkins_version-instance_method">

    - (<tt>Object</tt>) <strong>get_jenkins_version</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Obtains the jenkins version from the API</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'></span>




        <div class='inline'>
<p>Jenkins version</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


427
428
429
430</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 427</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_jenkins_version'>get_jenkins_version</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_get_root'>get_root</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-Jenkins</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="get_root-instance_method">

    - (<tt>Net::HTTP::Response</tt>) <strong>get_root</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Obtains the root of Jenkins server. This function is used to see if Jenkins
is running</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>Net::HTTP::Response</tt>)</span>



        &mdash;
        <div class='inline'>
<p>Response from Jenkins for “/”</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


280
281
282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 280</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_root'>get_root</span>
  <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>GET /</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Get</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_make_http_request'>make_http_request</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="get_server_date-instance_method">

    - (<tt>String</tt>) <strong>get_server_date</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Obtain the date of the Jenkins server</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>Server date</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 445</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_server_date'>get_server_date</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_get_root'>get_root</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">

    - (<tt>Object</tt>) <strong>inspect</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Overrides the inspect method to get rid of the credentials being shown in
the in interactive IRB sessions and also when the `inspect` method is
called. Just print the important variables.</p>


  </div>
</div>
<div class="tags">


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228
229
230
231
232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 225</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;JenkinsApi::Client:0x</span><span class='embexpr_beg'>#{</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___id__'>__id__</span> <span class='op'>*</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> @ssl=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@ssl</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> @log_location=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@log_location</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> @log_level=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@log_level</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> @crumbs_enabled=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@crumbs_enabled</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> @follow_redirects=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@follow_redirects</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> @jenkins_path=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@jenkins_path</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>,</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> @timeout=</span><span class='embexpr_beg'>#{</span><span class='ivar'>@timeout</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="job-instance_method">

    - (<tt><span class='object_link'><a href="Client/Job.html" title="JenkinsApi::Client::Job (class)">JenkinsApi::Client::Job</a></span></tt>) <strong>job</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Creates an instance to the Job class by passing a reference to self</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="Client/Job.html" title="JenkinsApi::Client::Job (class)">JenkinsApi::Client::Job</a></span></tt>)</span>



        &mdash;
        <div class='inline'>
<p>An object to Job subclass</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 177</span>

<span class='kw'>def</span> <span class='id identifier rubyid_job'>job</span>
  <span class='const'>JenkinsApi</span><span class='op'>::</span><span class='const'>Client</span><span class='op'>::</span><span class='const'>Job</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="node-instance_method">

    - (<tt><span class='object_link'><a href="Client/Node.html" title="JenkinsApi::Client::Node (class)">JenkinsApi::Client::Node</a></span></tt>) <strong>node</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Creates an instance to the Node class by passing a reference to self</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="Client/Node.html" title="JenkinsApi::Client::Node (class)">JenkinsApi::Client::Node</a></span></tt>)</span>



        &mdash;
        <div class='inline'>
<p>An object to Node subclass</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 193</span>

<span class='kw'>def</span> <span class='id identifier rubyid_node'>node</span>
  <span class='const'>JenkinsApi</span><span class='op'>::</span><span class='const'>Client</span><span class='op'>::</span><span class='const'>Node</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="post_config-instance_method">

    - (<tt>String</tt>) <strong>post_config</strong>(url_prefix, xml)





</h3><div class="docstring">
  <div class="discussion">

<p>Posts the given xml configuration to the url given</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">

    <li>

        <span class='name'>url_prefix</span>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>The prefix to be used in the URL</p>
</div>

    </li>

    <li>

        <span class='name'>xml</span>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>The XML configuration to be sent to Jenkins</p>
</div>

    </li>

</ul>

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>Response code returned from Jenkins</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 377</span>

<span class='kw'>def</span> <span class='id identifier rubyid_post_config'>post_config</span><span class='lparen'>(</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_xml'>xml</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_retries'>retries</span> <span class='op'>=</span> <span class='ivar'>@crumb_max_retries</span>
  <span class='kw'>begin</span>
    <span class='comment'># Identify whether to use crumbs if this is the first POST request.
</span>    <span class='ivar'>@crumbs_enabled</span> <span class='op'>=</span> <span class='id identifier rubyid_use_crumbs?'>use_crumbs?</span> <span class='kw'>if</span> <span class='ivar'>@crumbs_enabled</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='ivar'>@crumb</span> <span class='op'>=</span> <span class='id identifier rubyid_get_crumb'>get_crumb</span> <span class='kw'>if</span> <span class='ivar'>@crumbs_enabled</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@crumb</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

    <span class='id identifier rubyid_url_prefix'>url_prefix</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@jenkins_path</span><span class='rbrace'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>POST </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_url_prefix'>url_prefix</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_xml'>xml</span>
    <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>application/xml</span><span class='tstring_end'>'</span></span>
    <span class='kw'>if</span> <span class='ivar'>@crumbs_enabled</span>
      <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='ivar'>@crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>crumbRequestField</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>crumb</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_make_http_request'>make_http_request</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_handle_exception'>handle_exception</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exceptions</span><span class='op'>::</span><span class='const'>ForbiddenException</span>
    <span class='ivar'>@logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Crumb expired. Refetching from the server. Trying</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='ivar'>@crumb_max_retries</span> <span class='op'>-</span> <span class='id identifier rubyid_retries'>retries</span> <span class='op'>+</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='tstring_content'> out of </span><span class='embexpr_beg'>#{</span><span class='ivar'>@crumb_max_retries</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> times...</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@crumb</span> <span class='op'>=</span> <span class='id identifier rubyid_get_crumb'>get_crumb</span>
    <span class='id identifier rubyid_retries'>retries</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_retries'>retries</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>?</span> <span class='kw'>retry</span> <span class='op'>:</span> <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="queue-instance_method">

    - (<tt><span class='object_link'><a href="Client/BuildQueue.html" title="JenkinsApi::Client::BuildQueue (class)">JenkinsApi::Client::BuildQueue</a></span></tt>) <strong>queue</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Creates an instance to the BuildQueue by passing a reference to self</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="Client/BuildQueue.html" title="JenkinsApi::Client::BuildQueue (class)">JenkinsApi::Client::BuildQueue</a></span></tt>)</span>



        &mdash;
        <div class='inline'>
<p>An object to BuildQueue subclass</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


209
210
211</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 209</span>

<span class='kw'>def</span> <span class='id identifier rubyid_queue'>queue</span>
  <span class='const'>JenkinsApi</span><span class='op'>::</span><span class='const'>Client</span><span class='op'>::</span><span class='const'>BuildQueue</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="system-instance_method">

    - (<tt><span class='object_link'><a href="Client/System.html" title="JenkinsApi::Client::System (class)">JenkinsApi::Client::System</a></span></tt>) <strong>system</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Creates an instance to the System class by passing a reference to self</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="Client/System.html" title="JenkinsApi::Client::System (class)">JenkinsApi::Client::System</a></span></tt>)</span>



        &mdash;
        <div class='inline'>
<p>An object to System subclass</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 185</span>

<span class='kw'>def</span> <span class='id identifier rubyid_system'>system</span>
  <span class='const'>JenkinsApi</span><span class='op'>::</span><span class='const'>Client</span><span class='op'>::</span><span class='const'>System</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">

    - (<tt>String</tt>) <strong>to_s</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Returns a string representing the class name</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>String</tt>)</span>



        &mdash;
        <div class='inline'>
<p>string representation of class name</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 217</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;JenkinsApi::Client&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="use_crumbs?-instance_method">

    - (<tt>Boolean</tt>) <strong>use_crumbs?</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Checks if Jenkins uses crumbs (i.e) the XSS disable option is checked in
Jenkins' security settings</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>Boolean</tt>)</span>



        &mdash;
        <div class='inline'>
<p>whether Jenkins uses crumbs or not</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


409
410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 409</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_crumbs?'>use_crumbs?</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_api_get_request'>api_get_request</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>useCrumbs</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="use_security?-instance_method">

    - (<tt>Boolean</tt>) <strong>use_security?</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Checks if Jenkins uses security</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt>Boolean</tt>)</span>



        &mdash;
        <div class='inline'>
<p>whether Jenkins uses security or not</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420
421</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 418</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_security?'>use_security?</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_api_get_request'>api_get_request</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>useSecurity</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

      <div class="method_details ">
  <h3 class="signature " id="view-instance_method">

    - (<tt><span class='object_link'><a href="Client/View.html" title="JenkinsApi::Client::View (class)">JenkinsApi::Client::View</a></span></tt>) <strong>view</strong>





</h3><div class="docstring">
  <div class="discussion">

<p>Creates an instance to the View class by passing a reference to self</p>


  </div>
</div>
<div class="tags">

<p class="tag_title">Returns:</p>
<ul class="return">

    <li>


        <span class='type'>(<tt><span class='object_link'><a href="Client/View.html" title="JenkinsApi::Client::View (class)">JenkinsApi::Client::View</a></span></tt>)</span>



        &mdash;
        <div class='inline'>
<p>An object to View subclass</p>
</div>

    </li>

</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 201</span>

<span class='kw'>def</span> <span class='id identifier rubyid_view'>view</span>
  <span class='const'>JenkinsApi</span><span class='op'>::</span><span class='const'>Client</span><span class='op'>::</span><span class='const'>View</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>

  </div>

</div>

    <div id="footer">
  Generated on Tue Jul  9 23:23:51 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.6.2 (ruby-1.9.3).
</div>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37519629-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>
