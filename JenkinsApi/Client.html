<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: JenkinsApi::Client
  
    &mdash; Documentation by YARD 0.8.7
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../JenkinsApi.html" title="JenkinsApi (module)">JenkinsApi</a></span></span>
     &raquo; 
    <span class="title">Client</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: JenkinsApi::Client
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">JenkinsApi::Client</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/jenkins_api_client/client.rb<span class="defines">,<br />
  lib/jenkins_api_client/job.rb,<br /> lib/jenkins_api_client/node.rb,<br /> lib/jenkins_api_client/view.rb,<br /> lib/jenkins_api_client/user.rb,<br /> lib/jenkins_api_client/system.rb,<br /> lib/jenkins_api_client/version.rb,<br /> lib/jenkins_api_client/build_queue.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This is the client class that acts as the bridge between the subclasses and
Jnekins. This class contains methods that performs GET and POST requests
for various operations.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Client/BuildQueue.html" title="JenkinsApi::Client::BuildQueue (class)">BuildQueue</a></span>, <span class='object_link'><a href="Client/Job.html" title="JenkinsApi::Client::Job (class)">Job</a></span>, <span class='object_link'><a href="Client/Node.html" title="JenkinsApi::Client::Node (class)">Node</a></span>, <span class='object_link'><a href="Client/System.html" title="JenkinsApi::Client::System (class)">System</a></span>, <span class='object_link'><a href="Client/User.html" title="JenkinsApi::Client::User (class)">User</a></span>, <span class='object_link'><a href="Client/View.html" title="JenkinsApi::Client::View (class)">View</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="DEFAULT_SERVER_PORT-constant" class="">DEFAULT_SERVER_PORT =
          <div class="docstring">
  <div class="discussion">
    
<p>Default port to be used to connect to Jenkins</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>8080</span>
</pre></dd>
      
        <dt id="DEFAULT_TIMEOUT-constant" class="">DEFAULT_TIMEOUT =
          <div class="docstring">
  <div class="discussion">
    
<p>Default timeout in seconds to be used while performing operations</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>120</span>
</pre></dd>
      
        <dt id="VALID_PARAMS-constant" class="">VALID_PARAMS =
          <div class="docstring">
  <div class="discussion">
    
<p>Parameters that are permitted as options while initializing the client</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span>
  <span class='string val'>&quot;server_url&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;server_ip&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;server_port&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;proxy_ip&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;proxy_port&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;jenkins_path&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;username&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;password&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;password_base64&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;log_location&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;log_level&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;timeout&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;ssl&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;follow_redirects&quot;</span><span class='comma token'>,</span>
  <span class='string val'>&quot;identity_file&quot;</span>
<span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_freeze identifier id'>freeze</span>
</pre></dd>
      
        <dt id="MAJOR-constant" class="">MAJOR =
          <div class="docstring">
  <div class="discussion">
    
<p>Major version of the gem</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>0</span>
</pre></dd>
      
        <dt id="MINOR-constant" class="">MINOR =
          <div class="docstring">
  <div class="discussion">
    
<p>Minor version of the gem</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>13</span>
</pre></dd>
      
        <dt id="TINY-constant" class="">TINY =
          <div class="docstring">
  <div class="discussion">
    
<p>Tiny version of the gem used for patches</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='integer val'>0</span>
</pre></dd>
      
        <dt id="PRE-constant" class="">PRE =
          <div class="docstring">
  <div class="discussion">
    
<p>Used for pre-releases</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='rubyid_nil nil kw'>nil</span>
</pre></dd>
      
        <dt id="VERSION-constant" class="">VERSION =
          <div class="docstring">
  <div class="discussion">
    
<p>Version String of Jenkins API Client.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrack token'>[</span><span class='rubyid_MAJOR constant id'>MAJOR</span><span class='comma token'>,</span> <span class='rubyid_MINOR constant id'>MINOR</span><span class='comma token'>,</span> <span class='rubyid_TINY constant id'>TINY</span><span class='comma token'>,</span> <span class='rubyid_PRE constant id'>PRE</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_compact identifier id'>compact</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>'.'</span><span class='rparen token'>)</span>
</pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#logger-instance_method" title="#logger (instance method)">- (Object) <strong>logger</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute logger.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#timeout-instance_method" title="#timeout (instance method)">- (Object) <strong>timeout</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute timeout.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_get_request-instance_method" title="#api_get_request (instance method)">- (String, JSON) <strong>api_get_request</strong>(url_prefix, tree = nil, url_suffix = &quot;/api/json&quot;, raw_response = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends a GET request to the Jenkins CI server with the specified URL.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#api_post_request-instance_method" title="#api_post_request (instance method)">- (String) <strong>api_post_request</strong>(url_prefix, form_data = {}, raw_response = false) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends a POST message to the Jenkins CI server with the specified URL.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exec_cli-instance_method" title="#exec_cli (instance method)">- (String) <strong>exec_cli</strong>(command, args = []) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Execute the Jenkins CLI.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_config-instance_method" title="#get_config (instance method)">- (String) <strong>get_config</strong>(url_prefix) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtains the configuration of a component from the Jenkins CI server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_hudson_version-instance_method" title="#get_hudson_version (instance method)">- (String) <strong>get_hudson_version</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtain the Hudson version of the CI server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_jenkins_version-instance_method" title="#get_jenkins_version (instance method)">- (Object) <strong>get_jenkins_version</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtains the jenkins version from the API.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_root-instance_method" title="#get_root (instance method)">- (Net::HTTP::Response) <strong>get_root</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtains the root of Jenkins server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_server_date-instance_method" title="#get_server_date (instance method)">- (String) <strong>get_server_date</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Obtain the date of the Jenkins server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (JenkinsApi::Client) <strong>initialize</strong>(args) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initialize a Client object with Jenkins CI server credentials.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (Object) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Overrides the inspect method to get rid of the credentials being shown in
the in interactive IRB sessions and also when the `inspect` method is
called.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#job-instance_method" title="#job (instance method)">- (JenkinsApi::Client::Job) <strong>job</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the Job class by passing a reference to self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#node-instance_method" title="#node (instance method)">- (JenkinsApi::Client::Node) <strong>node</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the Node class by passing a reference to self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post_config-instance_method" title="#post_config (instance method)">- (String) <strong>post_config</strong>(url_prefix, xml) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Posts the given xml configuration to the url given.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#queue-instance_method" title="#queue (instance method)">- (JenkinsApi::Client::BuildQueue) <strong>queue</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the BuildQueue by passing a reference to self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#system-instance_method" title="#system (instance method)">- (JenkinsApi::Client::System) <strong>system</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the System class by passing a reference to self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (String) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a string representing the class name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_crumbs%3F-instance_method" title="#use_crumbs? (instance method)">- (Boolean) <strong>use_crumbs?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks if Jenkins uses crumbs (i.e) the XSS disable option is checked in
Jenkins’ security settings.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_security%3F-instance_method" title="#use_security? (instance method)">- (Boolean) <strong>use_security?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks if Jenkins uses security.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#user-instance_method" title="#user (instance method)">- (JenkinsApi::Client::User) <strong>user</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an instance of the User class by passing a reference to self.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#view-instance_method" title="#view (instance method)">- (JenkinsApi::Client::View) <strong>view</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates an instance to the View class by passing a reference to self.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="JenkinsApi::Client (class)">JenkinsApi::Client</a></span></tt>) <strong>initialize</strong>(args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initialize a Client object with Jenkins CI server credentials</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Arguments to connect to Jenkins server</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:server_ip</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the IP address of the Jenkins CI server</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:server_port</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the port on which the Jenkins listens</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:server_url</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the full URL address of the Jenkins CI server (http/https)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:username</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the username used for connecting to the server (optional)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:password</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the password for connecting to the CI server (optional)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:password_base64</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the password with base64 encoded format for connecting to the CI server
(optional)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:identity_file</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the priviate key file for Jenkins CLI authentication, it is used only for
executing CLI commands. also remember to upload the public key to <a
href="http://<Server"><Server</a> IP&gt;:&lt;Server
Port&gt;/user/&lt;Username&gt;/configure</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:proxy_ip</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the proxy IP address</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:proxy_port</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the proxy port</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:jenkins_path</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>&quot;/&quot;</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>the optional context path for Jenkins</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ssl</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>indicates if Jenkins is accessible over HTTPS</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:follow_redirects</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>This argument causes the client to follow a redirect (jenkins can return a
30x when starting a build)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:timeout</span>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>120</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>This argument sets the timeout for operations that take longer (in seconds)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:log_location</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>STDOUT</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>The location for the log file</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:log_level</span>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Logger::INFO</tt>
            
          </span>
          
            &mdash; <div class='inline'>
<p>The level for messages to be logged. Should be one of: Logger::DEBUG (0),
Logger::INFO (1), Logger::WARN (2), Logger::ERROR (2), Logger::FATAL (3)
(Defaults to Logger::INFO)</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>when required options are not provided.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 113</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='rubyid_args identifier id'>args</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_key identifier id'>key</span><span class='comma token'>,</span> <span class='rubyid_value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_value identifier id'>value</span> <span class='andop op'>&amp;&amp;</span> <span class='rubyid_VALID_PARAMS constant id'>VALID_PARAMS</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span><span class='lparen token'>(</span><span class='rubyid_key identifier id'>key</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='rparen token'>)</span>
      <span class='rubyid_instance_variable_set identifier id'>instance_variable_set</span><span class='lparen token'>(</span><span class='dstring node'>&quot;@#{key}&quot;</span><span class='comma token'>,</span> <span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_args identifier id'>args</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span> <span class='rubyid_Hash constant id'>Hash</span>

  <span class='comment val'># Server IP or Server URL must be specifiec</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_@server_ip ivar id'>@server_ip</span> <span class='orop op'>||</span> <span class='rubyid_@server_url ivar id'>@server_url</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;Server IP or Server URL is required to connect&quot;</span> <span class='plus op'>+</span>
      <span class='string val'>&quot; to Jenkins&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># Username/password are optional as some jenkins servers do not require</span>
  <span class='comment val'># authentication</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_@username ivar id'>@username</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='lparen token'>(</span><span class='rubyid_@password ivar id'>@password</span> <span class='orop op'>||</span> <span class='rubyid_@password_base64 ivar id'>@password_base64</span><span class='rparen token'>)</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;If username is provided, password is required&quot;</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_@proxy_ip ivar id'>@proxy_ip</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='bitxor op'>^</span> <span class='rubyid_@proxy_port ivar id'>@proxy_port</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;Proxy IP and port must both be specified or&quot;</span> <span class='plus op'>+</span>
      <span class='string val'>&quot; both left nil&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># Get info from the server_url, if we got one</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_@server_url ivar id'>@server_url</span>
    <span class='rubyid_server_uri identifier id'>server_uri</span> <span class='assign token'>=</span> <span class='rubyid_URI constant id'>URI</span><span class='dot token'>.</span><span class='rubyid_parse identifier id'>parse</span><span class='lparen token'>(</span><span class='rubyid_@server_url ivar id'>@server_url</span><span class='rparen token'>)</span>
    <span class='rubyid_@server_ip ivar id'>@server_ip</span> <span class='assign token'>=</span> <span class='rubyid_server_uri identifier id'>server_uri</span><span class='dot token'>.</span><span class='rubyid_host identifier id'>host</span>
    <span class='rubyid_@server_port ivar id'>@server_port</span> <span class='assign token'>=</span> <span class='rubyid_server_uri identifier id'>server_uri</span><span class='dot token'>.</span><span class='rubyid_port identifier id'>port</span>
    <span class='rubyid_@ssl ivar id'>@ssl</span> <span class='assign token'>=</span> <span class='rubyid_server_uri identifier id'>server_uri</span><span class='dot token'>.</span><span class='rubyid_scheme identifier id'>scheme</span> <span class='eq op'>==</span> <span class='string val'>&quot;https&quot;</span>
    <span class='rubyid_@jenkins_path ivar id'>@jenkins_path</span> <span class='assign token'>=</span> <span class='rubyid_server_uri identifier id'>server_uri</span><span class='dot token'>.</span><span class='rubyid_path identifier id'>path</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_@jenkins_path ivar id'>@jenkins_path</span> <span class='opasgn op'>||=</span> <span class='string val'>&quot;&quot;</span>
  <span class='rubyid_@jenkins_path ivar id'>@jenkins_path</span><span class='dot token'>.</span><span class='rubyid_gsub! fid id'>gsub!</span><span class='lparen token'>(</span><span class='regexp val'>/\/$/</span><span class='comma token'>,</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span> <span class='comment val'># remove trailing slash if there is one</span>
  <span class='rubyid_@server_port ivar id'>@server_port</span> <span class='assign token'>=</span> <span class='rubyid_DEFAULT_SERVER_PORT constant id'>DEFAULT_SERVER_PORT</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@server_port ivar id'>@server_port</span>
  <span class='rubyid_@timeout ivar id'>@timeout</span> <span class='assign token'>=</span> <span class='rubyid_DEFAULT_TIMEOUT constant id'>DEFAULT_TIMEOUT</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@timeout ivar id'>@timeout</span>
  <span class='rubyid_@ssl ivar id'>@ssl</span> <span class='opasgn op'>||=</span> <span class='rubyid_false false kw'>false</span>

  <span class='comment val'># Setting log options</span>
  <span class='rubyid_@log_location ivar id'>@log_location</span> <span class='assign token'>=</span> <span class='rubyid_STDOUT constant id'>STDOUT</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@log_location ivar id'>@log_location</span>
  <span class='rubyid_@log_level ivar id'>@log_level</span> <span class='assign token'>=</span> <span class='rubyid_Logger constant id'>Logger</span><span class='colon2 op'>::</span><span class='rubyid_INFO constant id'>INFO</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_@log_level ivar id'>@log_level</span>
  <span class='rubyid_@logger ivar id'>@logger</span> <span class='assign token'>=</span> <span class='rubyid_Logger constant id'>Logger</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_@log_location ivar id'>@log_location</span><span class='rparen token'>)</span>
  <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_level identifier id'>level</span> <span class='assign token'>=</span> <span class='rubyid_@log_level ivar id'>@log_level</span>


  <span class='comment val'># Base64 decode inserts a newline character at the end. As a workaround</span>
  <span class='comment val'># added chomp to remove newline characters. I hope nobody uses newline</span>
  <span class='comment val'># characters at the end of their passwords :)</span>
  <span class='rubyid_@password ivar id'>@password</span> <span class='assign token'>=</span> <span class='rubyid_Base64 constant id'>Base64</span><span class='dot token'>.</span><span class='rubyid_decode64 identifier id'>decode64</span><span class='lparen token'>(</span><span class='rubyid_@password_base64 ivar id'>@password_base64</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_chomp identifier id'>chomp</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@password_base64 ivar id'>@password_base64</span>

  <span class='comment val'># No connections are made to the Jenkins server during initialize to</span>
  <span class='comment val'># allow the unit tests to behave normally as mocking is simpler this way.</span>
  <span class='comment val'># If this variable is nil, the first POST request will query the API and</span>
  <span class='comment val'># populate this variable.</span>
  <span class='rubyid_@crumbs_enabled ivar id'>@crumbs_enabled</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span>
  <span class='comment val'># The crumbs hash. Store it so that we don't have to obtain the crumb for</span>
  <span class='comment val'># every POST request. It appears that the crumb doesn't change often.</span>
  <span class='rubyid_@crumb ivar id'>@crumb</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>
  <span class='comment val'># This is the number of times to refetch the crumb if it ever expires.</span>
  <span class='rubyid_@crumb_max_retries ivar id'>@crumb_max_retries</span> <span class='assign token'>=</span> <span class='integer val'>3</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="logger=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="logger-instance_method">
  
    - (<tt>Object</tt>) <strong>logger</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute logger</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 42</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_logger identifier id'>logger</span>
  <span class='rubyid_@logger ivar id'>@logger</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="timeout=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="timeout-instance_method">
  
    - (<tt>Object</tt>) <strong>timeout</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute timeout</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 42</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_timeout identifier id'>timeout</span>
  <span class='rubyid_@timeout ivar id'>@timeout</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="api_get_request-instance_method">
  
    - (<tt>String</tt>, <tt>JSON</tt>) <strong>api_get_request</strong>(url_prefix, tree = nil, url_suffix = &quot;/api/json&quot;, raw_response = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends a GET request to the Jenkins CI server with the specified URL</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>url_prefix</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The prefix to use in the URL</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>tree</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>A specific JSON tree to optimize the API call</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>url_suffix</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;/api/json&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The suffix to be used in the URL</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>raw_response</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Return complete Response object instead of JSON body of response</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>JSON</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>JSON response from Jenkins</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 306</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_api_get_request identifier id'>api_get_request</span><span class='lparen token'>(</span><span class='rubyid_url_prefix identifier id'>url_prefix</span><span class='comma token'>,</span> <span class='rubyid_tree identifier id'>tree</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='rubyid_url_suffix identifier id'>url_suffix</span> <span class='assign token'>=</span><span class='string val'>&quot;/api/json&quot;</span><span class='comma token'>,</span>
                    <span class='rubyid_raw_response identifier id'>raw_response</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span><span class='rparen token'>)</span>
  <span class='rubyid_url_prefix identifier id'>url_prefix</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{@jenkins_path}#{url_prefix}&quot;</span>
  <span class='rubyid_to_get identifier id'>to_get</span> <span class='assign token'>=</span> <span class='string val'>&quot;&quot;</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_tree identifier id'>tree</span>
    <span class='rubyid_to_get identifier id'>to_get</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{url_prefix}#{url_suffix}?#{tree}&quot;</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_to_get identifier id'>to_get</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;#{url_prefix}#{url_suffix}&quot;</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_to_get identifier id'>to_get</span> <span class='assign token'>=</span> <span class='rubyid_URI constant id'>URI</span><span class='dot token'>.</span><span class='rubyid_escape identifier id'>escape</span><span class='lparen token'>(</span><span class='rubyid_to_get identifier id'>to_get</span><span class='rparen token'>)</span>
  <span class='rubyid_request identifier id'>request</span> <span class='assign token'>=</span> <span class='rubyid_Net constant id'>Net</span><span class='colon2 op'>::</span><span class='rubyid_HTTP constant id'>HTTP</span><span class='colon2 op'>::</span><span class='rubyid_Get constant id'>Get</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_to_get identifier id'>to_get</span><span class='rparen token'>)</span>
  <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='dstring node'>&quot;GET #{to_get}&quot;</span>
  <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_make_http_request identifier id'>make_http_request</span><span class='lparen token'>(</span><span class='rubyid_request identifier id'>request</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_raw_response identifier id'>raw_response</span>
    <span class='rubyid_handle_exception identifier id'>handle_exception</span><span class='lparen token'>(</span><span class='rubyid_response identifier id'>response</span><span class='comma token'>,</span> <span class='string val'>&quot;raw&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_handle_exception identifier id'>handle_exception</span><span class='lparen token'>(</span><span class='rubyid_response identifier id'>response</span><span class='comma token'>,</span> <span class='string val'>&quot;body&quot;</span><span class='comma token'>,</span> <span class='rubyid_url_suffix identifier id'>url_suffix</span> <span class='match op'>=~</span> <span class='regexp val'>/json/</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="api_post_request-instance_method">
  
    - (<tt>String</tt>) <strong>api_post_request</strong>(url_prefix, form_data = {}, raw_response = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends a POST message to the Jenkins CI server with the specified URL</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>url_prefix</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The prefix to be used in the URL</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>form_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Form data to send with POST request</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Response code form Jenkins Response</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 333</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_api_post_request identifier id'>api_post_request</span><span class='lparen token'>(</span><span class='rubyid_url_prefix identifier id'>url_prefix</span><span class='comma token'>,</span> <span class='rubyid_form_data identifier id'>form_data</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='rubyid_raw_response identifier id'>raw_response</span> <span class='assign token'>=</span> <span class='rubyid_false false kw'>false</span><span class='rparen token'>)</span>
  <span class='rubyid_retries identifier id'>retries</span> <span class='assign token'>=</span> <span class='rubyid_@crumb_max_retries ivar id'>@crumb_max_retries</span>
  <span class='rubyid_begin begin kw'>begin</span>
    <span class='rubyid_refresh_crumbs identifier id'>refresh_crumbs</span>

    <span class='comment val'># Added form_data default {} instead of nil to help with proxies</span>
    <span class='comment val'># that barf with empty post</span>
    <span class='rubyid_url_prefix identifier id'>url_prefix</span> <span class='assign token'>=</span> <span class='rubyid_URI constant id'>URI</span><span class='dot token'>.</span><span class='rubyid_escape identifier id'>escape</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@jenkins_path}#{url_prefix}&quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_request identifier id'>request</span> <span class='assign token'>=</span> <span class='rubyid_Net constant id'>Net</span><span class='colon2 op'>::</span><span class='rubyid_HTTP constant id'>HTTP</span><span class='colon2 op'>::</span><span class='rubyid_Post constant id'>Post</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{url_prefix}&quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='dstring node'>&quot;POST #{url_prefix}&quot;</span>
    <span class='rubyid_request identifier id'>request</span><span class='dot token'>.</span><span class='rubyid_content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='string val'>'application/json'</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_@crumbs_enabled ivar id'>@crumbs_enabled</span>
      <span class='rubyid_request identifier id'>request</span><span class='lbrack token'>[</span><span class='rubyid_@crumb ivar id'>@crumb</span><span class='lbrack token'>[</span><span class='string val'>&quot;crumbRequestField&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_@crumb ivar id'>@crumb</span><span class='lbrack token'>[</span><span class='string val'>&quot;crumb&quot;</span><span class='rbrack token'>]</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_request identifier id'>request</span><span class='dot token'>.</span><span class='rubyid_set_form_data identifier id'>set_form_data</span><span class='lparen token'>(</span><span class='rubyid_form_data identifier id'>form_data</span><span class='rparen token'>)</span>
    <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_make_http_request identifier id'>make_http_request</span><span class='lparen token'>(</span><span class='rubyid_request identifier id'>request</span><span class='rparen token'>)</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_raw_response identifier id'>raw_response</span>
      <span class='rubyid_handle_exception identifier id'>handle_exception</span><span class='lparen token'>(</span><span class='rubyid_response identifier id'>response</span><span class='comma token'>,</span> <span class='string val'>&quot;raw&quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_handle_exception identifier id'>handle_exception</span><span class='lparen token'>(</span><span class='rubyid_response identifier id'>response</span><span class='rparen token'>)</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_rescue rescue kw'>rescue</span> <span class='rubyid_Exceptions constant id'>Exceptions</span><span class='colon2 op'>::</span><span class='rubyid_ForbiddenException constant id'>ForbiddenException</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_e identifier id'>e</span>
    <span class='rubyid_refresh_crumbs identifier id'>refresh_crumbs</span><span class='lparen token'>(</span><span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>

    <span class='rubyid_if if kw'>if</span> <span class='rubyid_@crumbs_enabled ivar id'>@crumbs_enabled</span>
      <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='dstring node'>&quot;Retrying: #{@crumb_max_retries - retries + 1} out of&quot;</span> <span class='plus op'>+</span>
        <span class='dstring node'>&quot; #{@crumb_max_retries} times...&quot;</span>
      <span class='rubyid_retries identifier id'>retries</span> <span class='opasgn op'>-=</span> <span class='integer val'>1</span>

      <span class='rubyid_if if kw'>if</span> <span class='rubyid_retries identifier id'>retries</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
        <span class='rubyid_retry retry kw'>retry</span>
      <span class='rubyid_else else kw'>else</span>
        <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_Exceptions constant id'>Exceptions</span><span class='colon2 op'>::</span><span class='rubyid_ForbiddenWithCrumb constant id'>ForbiddenWithCrumb</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_@logger ivar id'>@logger</span><span class='comma token'>,</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_message identifier id'>message</span><span class='rparen token'>)</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_raise identifier id'>raise</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exec_cli-instance_method">
  
    - (<tt>String</tt>) <strong>exec_cli</strong>(command, args = []) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Execute the Jenkins CLI</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>command</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>command name</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the arguments for the command</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>command output from the CLI</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Exceptions.html#CLIException-constant" title="JenkinsApi::Exceptions::CLIException (constant)">Exceptions::CLIException</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if there are issues in running the commands using CLI</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 484</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_exec_cli identifier id'>exec_cli</span><span class='lparen token'>(</span><span class='rubyid_command identifier id'>command</span><span class='comma token'>,</span> <span class='rubyid_args identifier id'>args</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='rubyid_base_dir identifier id'>base_dir</span> <span class='assign token'>=</span> <span class='rubyid_File constant id'>File</span><span class='dot token'>.</span><span class='rubyid_dirname identifier id'>dirname</span><span class='lparen token'>(</span><span class='rubyid___FILE__ __file__ kw'>__FILE__</span><span class='rparen token'>)</span>
  <span class='rubyid_server_url identifier id'>server_url</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;http://#{@server_ip}:#{@server_port}/#{@jenkins_path}&quot;</span>
  <span class='rubyid_cmd identifier id'>cmd</span> <span class='assign token'>=</span> <span class='dstring node'>&quot;java -jar #{base_dir}/../../java_deps/jenkins-cli.jar -s #{server_url}&quot;</span>
  <span class='rubyid_cmd identifier id'>cmd</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; -i #{@identity_file}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@identity_file ivar id'>@identity_file</span> <span class='andop op'>&amp;&amp;</span> <span class='notop op'>!</span><span class='rubyid_@identity_file ivar id'>@identity_file</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
  <span class='rubyid_cmd identifier id'>cmd</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; #{command}&quot;</span>
  <span class='rubyid_cmd identifier id'>cmd</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot; --username #{@username} --password #{@password}&quot;</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_@identity_file ivar id'>@identity_file</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='orop op'>||</span> <span class='rubyid_@identity_file ivar id'>@identity_file</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
  <span class='rubyid_cmd identifier id'>cmd</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>' '</span>
  <span class='rubyid_cmd identifier id'>cmd</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_args identifier id'>args</span><span class='dot token'>.</span><span class='rubyid_join identifier id'>join</span><span class='lparen token'>(</span><span class='string val'>' '</span><span class='rparen token'>)</span>
  <span class='rubyid_java_cmd identifier id'>java_cmd</span> <span class='assign token'>=</span> <span class='rubyid_Mixlib constant id'>Mixlib</span><span class='colon2 op'>::</span><span class='rubyid_ShellOut constant id'>ShellOut</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_cmd identifier id'>cmd</span><span class='rparen token'>)</span>

  <span class='comment val'># Run the command</span>
  <span class='rubyid_java_cmd identifier id'>java_cmd</span><span class='dot token'>.</span><span class='rubyid_run_command identifier id'>run_command</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_java_cmd identifier id'>java_cmd</span><span class='dot token'>.</span><span class='rubyid_stderr identifier id'>stderr</span><span class='dot token'>.</span><span class='rubyid_empty? fid id'>empty?</span>
    <span class='rubyid_java_cmd identifier id'>java_cmd</span><span class='dot token'>.</span><span class='rubyid_stdout identifier id'>stdout</span><span class='dot token'>.</span><span class='rubyid_chomp identifier id'>chomp</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='comment val'># The stderr has a stack trace of the Java program. We'll already have</span>
    <span class='comment val'># a stack trace for Ruby. So just display a descriptive message for the</span>
    <span class='comment val'># error thrown by the CLI.</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_Exceptions constant id'>Exceptions</span><span class='colon2 op'>::</span><span class='rubyid_CLIException constant id'>CLIException</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span>
      <span class='rubyid_@logger ivar id'>@logger</span><span class='comma token'>,</span>
      <span class='rubyid_java_cmd identifier id'>java_cmd</span><span class='dot token'>.</span><span class='rubyid_stderr identifier id'>stderr</span><span class='dot token'>.</span><span class='rubyid_split identifier id'>split</span><span class='lparen token'>(</span><span class='string val'>&quot;\n&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_first identifier id'>first</span>
    <span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_config-instance_method">
  
    - (<tt>String</tt>) <strong>get_config</strong>(url_prefix) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtains the configuration of a component from the Jenkins CI server</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>url_prefix</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The prefix to be used in the URL</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>XML configuration obtained from Jenkins</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


379
380
381
382
383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 379</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_config identifier id'>get_config</span><span class='lparen token'>(</span><span class='rubyid_url_prefix identifier id'>url_prefix</span><span class='rparen token'>)</span>
  <span class='rubyid_url_prefix identifier id'>url_prefix</span> <span class='assign token'>=</span> <span class='rubyid_URI constant id'>URI</span><span class='dot token'>.</span><span class='rubyid_escape identifier id'>escape</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@jenkins_path}#{url_prefix}&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_request identifier id'>request</span> <span class='assign token'>=</span> <span class='rubyid_Net constant id'>Net</span><span class='colon2 op'>::</span><span class='rubyid_HTTP constant id'>HTTP</span><span class='colon2 op'>::</span><span class='rubyid_Get constant id'>Get</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{url_prefix}/config.xml&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='dstring node'>&quot;GET #{url_prefix}/config.xml&quot;</span>
  <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_make_http_request identifier id'>make_http_request</span><span class='lparen token'>(</span><span class='rubyid_request identifier id'>request</span><span class='rparen token'>)</span>
  <span class='rubyid_handle_exception identifier id'>handle_exception</span><span class='lparen token'>(</span><span class='rubyid_response identifier id'>response</span><span class='comma token'>,</span> <span class='string val'>&quot;body&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_hudson_version-instance_method">
  
    - (<tt>String</tt>) <strong>get_hudson_version</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtain the Hudson version of the CI server</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Version of Hudson on Jenkins server</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


460
461
462
463</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 460</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_hudson_version identifier id'>get_hudson_version</span>
  <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_get_root identifier id'>get_root</span>
  <span class='rubyid_response identifier id'>response</span><span class='lbrack token'>[</span><span class='string val'>&quot;X-Hudson&quot;</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_jenkins_version-instance_method">
  
    - (<tt>Object</tt>) <strong>get_jenkins_version</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtains the jenkins version from the API</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>Jenkins version</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


451
452
453
454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 451</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_jenkins_version identifier id'>get_jenkins_version</span>
  <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_get_root identifier id'>get_root</span>
  <span class='rubyid_response identifier id'>response</span><span class='lbrack token'>[</span><span class='string val'>&quot;X-Jenkins&quot;</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_root-instance_method">
  
    - (<tt>Net::HTTP::Response</tt>) <strong>get_root</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtains the root of Jenkins server. This function is used to see if Jenkins
is running</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Net::HTTP::Response</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Response from Jenkins for “/”</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292
293
294</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 290</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_root identifier id'>get_root</span>
  <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='string val'>&quot;GET /&quot;</span>
  <span class='rubyid_request identifier id'>request</span> <span class='assign token'>=</span> <span class='rubyid_Net constant id'>Net</span><span class='colon2 op'>::</span><span class='rubyid_HTTP constant id'>HTTP</span><span class='colon2 op'>::</span><span class='rubyid_Get constant id'>Get</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;/&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_make_http_request identifier id'>make_http_request</span><span class='lparen token'>(</span><span class='rubyid_request identifier id'>request</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_server_date-instance_method">
  
    - (<tt>String</tt>) <strong>get_server_date</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Obtain the date of the Jenkins server</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Server date</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


469
470
471
472</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 469</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_get_server_date identifier id'>get_server_date</span>
  <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_get_root identifier id'>get_root</span>
  <span class='rubyid_response identifier id'>response</span><span class='lbrack token'>[</span><span class='string val'>&quot;Date&quot;</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    - (<tt>Object</tt>) <strong>inspect</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Overrides the inspect method to get rid of the credentials being shown in
the in interactive IRB sessions and also when the `inspect` method is
called. Just print the important variables.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


235
236
237
238
239
240
241
242
243
244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 235</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_inspect identifier id'>inspect</span>
  <span class='dstring node'>&quot;#&lt;JenkinsApi::Client:0x#{(self.__id__ * 2).to_s(16)}&quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot; @ssl=#{@ssl.inspect},&quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot; @log_location=#{@log_location.inspect},&quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot; @log_level=#{@log_level.inspect},&quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot; @crumbs_enabled=#{@crumbs_enabled.inspect},&quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot; @follow_redirects=#{@follow_redirects.inspect},&quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot; @jenkins_path=#{@jenkins_path.inspect},&quot;</span> <span class='plus op'>+</span>
    <span class='dstring node'>&quot; @timeout=#{@timeout.inspect}&gt;&quot;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="job-instance_method">
  
    - (<tt><span class='object_link'><a href="Client/Job.html" title="JenkinsApi::Client::Job (class)">JenkinsApi::Client::Job</a></span></tt>) <strong>job</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an instance to the Job class by passing a reference to self</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Client/Job.html" title="JenkinsApi::Client::Job (class)">JenkinsApi::Client::Job</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An object to Job subclass</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 179</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_job identifier id'>job</span>
  <span class='rubyid_JenkinsApi constant id'>JenkinsApi</span><span class='colon2 op'>::</span><span class='rubyid_Client constant id'>Client</span><span class='colon2 op'>::</span><span class='rubyid_Job constant id'>Job</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="node-instance_method">
  
    - (<tt><span class='object_link'><a href="Client/Node.html" title="JenkinsApi::Client::Node (class)">JenkinsApi::Client::Node</a></span></tt>) <strong>node</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an instance to the Node class by passing a reference to self</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Client/Node.html" title="JenkinsApi::Client::Node (class)">JenkinsApi::Client::Node</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An object to Node subclass</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 195</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_node identifier id'>node</span>
  <span class='rubyid_JenkinsApi constant id'>JenkinsApi</span><span class='colon2 op'>::</span><span class='rubyid_Client constant id'>Client</span><span class='colon2 op'>::</span><span class='rubyid_Node constant id'>Node</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post_config-instance_method">
  
    - (<tt>String</tt>) <strong>post_config</strong>(url_prefix, xml) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Posts the given xml configuration to the url given</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>url_prefix</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The prefix to be used in the URL</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>xml</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The XML configuration to be sent to Jenkins</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Response code returned from Jenkins</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 394</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_post_config identifier id'>post_config</span><span class='lparen token'>(</span><span class='rubyid_url_prefix identifier id'>url_prefix</span><span class='comma token'>,</span> <span class='rubyid_xml identifier id'>xml</span><span class='rparen token'>)</span>
  <span class='rubyid_retries identifier id'>retries</span> <span class='assign token'>=</span> <span class='rubyid_@crumb_max_retries ivar id'>@crumb_max_retries</span>
  <span class='rubyid_begin begin kw'>begin</span>
    <span class='rubyid_refresh_crumbs identifier id'>refresh_crumbs</span>

    <span class='rubyid_url_prefix identifier id'>url_prefix</span> <span class='assign token'>=</span> <span class='rubyid_URI constant id'>URI</span><span class='dot token'>.</span><span class='rubyid_escape identifier id'>escape</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{@jenkins_path}#{url_prefix}&quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_request identifier id'>request</span> <span class='assign token'>=</span> <span class='rubyid_Net constant id'>Net</span><span class='colon2 op'>::</span><span class='rubyid_HTTP constant id'>HTTP</span><span class='colon2 op'>::</span><span class='rubyid_Post constant id'>Post</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='dstring node'>&quot;#{url_prefix}&quot;</span><span class='rparen token'>)</span>
    <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='dstring node'>&quot;POST #{url_prefix}&quot;</span>
    <span class='rubyid_request identifier id'>request</span><span class='dot token'>.</span><span class='rubyid_body identifier id'>body</span> <span class='assign token'>=</span> <span class='rubyid_xml identifier id'>xml</span>
    <span class='rubyid_request identifier id'>request</span><span class='dot token'>.</span><span class='rubyid_content_type identifier id'>content_type</span> <span class='assign token'>=</span> <span class='string val'>'application/xml'</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_@crumbs_enabled ivar id'>@crumbs_enabled</span>
      <span class='rubyid_request identifier id'>request</span><span class='lbrack token'>[</span><span class='rubyid_@crumb ivar id'>@crumb</span><span class='lbrack token'>[</span><span class='string val'>&quot;crumbRequestField&quot;</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_@crumb ivar id'>@crumb</span><span class='lbrack token'>[</span><span class='string val'>&quot;crumb&quot;</span><span class='rbrack token'>]</span>
    <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_make_http_request identifier id'>make_http_request</span><span class='lparen token'>(</span><span class='rubyid_request identifier id'>request</span><span class='rparen token'>)</span>
    <span class='rubyid_handle_exception identifier id'>handle_exception</span><span class='lparen token'>(</span><span class='rubyid_response identifier id'>response</span><span class='rparen token'>)</span>
  <span class='rubyid_rescue rescue kw'>rescue</span> <span class='rubyid_Exceptions constant id'>Exceptions</span><span class='colon2 op'>::</span><span class='rubyid_ForbiddenException constant id'>ForbiddenException</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_e identifier id'>e</span>
    <span class='rubyid_refresh_crumbs identifier id'>refresh_crumbs</span><span class='lparen token'>(</span><span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>

    <span class='rubyid_if if kw'>if</span> <span class='rubyid_@crumbs_enabled ivar id'>@crumbs_enabled</span>
      <span class='rubyid_@logger ivar id'>@logger</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='dstring node'>&quot;Retrying: #{@crumb_max_retries - retries + 1} out of&quot;</span> <span class='plus op'>+</span>
        <span class='dstring node'>&quot; #{@crumb_max_retries} times...&quot;</span>
      <span class='rubyid_retries identifier id'>retries</span> <span class='opasgn op'>-=</span> <span class='integer val'>1</span>

      <span class='rubyid_if if kw'>if</span> <span class='rubyid_retries identifier id'>retries</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
        <span class='rubyid_retry retry kw'>retry</span>
      <span class='rubyid_else else kw'>else</span>
        <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_Exceptions constant id'>Exceptions</span><span class='colon2 op'>::</span><span class='rubyid_ForbiddenWithCrumb constant id'>ForbiddenWithCrumb</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_@logger ivar id'>@logger</span><span class='comma token'>,</span> <span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_message identifier id'>message</span><span class='rparen token'>)</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_raise identifier id'>raise</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="queue-instance_method">
  
    - (<tt><span class='object_link'><a href="Client/BuildQueue.html" title="JenkinsApi::Client::BuildQueue (class)">JenkinsApi::Client::BuildQueue</a></span></tt>) <strong>queue</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an instance to the BuildQueue by passing a reference to self</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Client/BuildQueue.html" title="JenkinsApi::Client::BuildQueue (class)">JenkinsApi::Client::BuildQueue</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An object to BuildQueue subclass</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 211</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_queue identifier id'>queue</span>
  <span class='rubyid_JenkinsApi constant id'>JenkinsApi</span><span class='colon2 op'>::</span><span class='rubyid_Client constant id'>Client</span><span class='colon2 op'>::</span><span class='rubyid_BuildQueue constant id'>BuildQueue</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="system-instance_method">
  
    - (<tt><span class='object_link'><a href="Client/System.html" title="JenkinsApi::Client::System (class)">JenkinsApi::Client::System</a></span></tt>) <strong>system</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an instance to the System class by passing a reference to self</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Client/System.html" title="JenkinsApi::Client::System (class)">JenkinsApi::Client::System</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An object to System subclass</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 187</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_system identifier id'>system</span>
  <span class='rubyid_JenkinsApi constant id'>JenkinsApi</span><span class='colon2 op'>::</span><span class='rubyid_Client constant id'>Client</span><span class='colon2 op'>::</span><span class='rubyid_System constant id'>System</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    - (<tt>String</tt>) <strong>to_s</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a string representing the class name</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>string representation of class name</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 227</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_to_s identifier id'>to_s</span>
  <span class='string val'>&quot;#&lt;JenkinsApi::Client&gt;&quot;</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_crumbs?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>use_crumbs?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks if Jenkins uses crumbs (i.e) the XSS disable option is checked in
Jenkins’ security settings</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>whether Jenkins uses crumbs or not</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435
436</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 433</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_use_crumbs? fid id'>use_crumbs?</span>
  <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_api_get_request identifier id'>api_get_request</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_response identifier id'>response</span><span class='lbrack token'>[</span><span class='string val'>&quot;useCrumbs&quot;</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_security?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>use_security?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks if Jenkins uses security</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>whether Jenkins uses security or not</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


442
443
444
445</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 442</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_use_security? fid id'>use_security?</span>
  <span class='rubyid_response identifier id'>response</span> <span class='assign token'>=</span> <span class='rubyid_api_get_request identifier id'>api_get_request</span><span class='lparen token'>(</span><span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
  <span class='rubyid_response identifier id'>response</span><span class='lbrack token'>[</span><span class='string val'>&quot;useSecurity&quot;</span><span class='rbrack token'>]</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="user-instance_method">
  
    - (<tt><span class='object_link'><a href="Client/User.html" title="JenkinsApi::Client::User (class)">JenkinsApi::Client::User</a></span></tt>) <strong>user</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an instance of the User class by passing a reference to self</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Client/User.html" title="JenkinsApi::Client::User (class)">JenkinsApi::Client::User</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An object of User subclass</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 219</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_user identifier id'>user</span>
  <span class='rubyid_JenkinsApi constant id'>JenkinsApi</span><span class='colon2 op'>::</span><span class='rubyid_Client constant id'>Client</span><span class='colon2 op'>::</span><span class='rubyid_User constant id'>User</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="view-instance_method">
  
    - (<tt><span class='object_link'><a href="Client/View.html" title="JenkinsApi::Client::View (class)">JenkinsApi::Client::View</a></span></tt>) <strong>view</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates an instance to the View class by passing a reference to self</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Client/View.html" title="JenkinsApi::Client::View (class)">JenkinsApi::Client::View</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An object to View subclass</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/jenkins_api_client/client.rb', line 203</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_view identifier id'>view</span>
  <span class='rubyid_JenkinsApi constant id'>JenkinsApi</span><span class='colon2 op'>::</span><span class='rubyid_Client constant id'>Client</span><span class='colon2 op'>::</span><span class='rubyid_View constant id'>View</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_self self kw'>self</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sun Aug  4 08:44:11 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7 (ruby-1.8.7).
</div>

        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-37519629-2']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
    </body>

</html>